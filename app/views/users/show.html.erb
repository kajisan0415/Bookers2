<main>
 <p id="notice"></p>
  <% if flash[:notice] %>
    <div class="flash">
  <%= flash[:notice] %>
    </div>
  <% end %>

  <% if @book.errors.any? %>
  <div id="error_explanation">
   <ul>
    <%= @book.errors.count %>errors prohibited this book from being saved:
     <% @book.errors.full_messages.each do |message| %>
      <li>
       <%= message %>
      </li>
     <% end %>
    <% end %>
   </ul>
  </div>


 <div class="container px-5 px-sm-0">
  <div class="row">
    <%= render 'users/list',user: @user %>
    <div class="col-md-8 offset-md-1">
     <h2>Books</h2>
     <table class="table table-hover table-inverse">
        <thead>
          <th>Title</th>
          <th>Body</th>
          <th colspan="3"></th>
        </thead>
        <tbody>
         <% @books.each do |book| %>
         <tr>
           <td>
            <%= link_to "/users/#{@user.id}" do %>
            <%= attachment_image_tag @user, :profile_image, :fill, 50, 50, format: 'jpeg', fallback: "no_image.jpg" %>
            <% end %>
           </td>
           <td>
            <%= link_to "/books/#{book.id}" do %>
            <%= book.title %>
            <% end %>
           </td>
           <td>
            <%= book.body %>
           </td>
         </tr>
         <% end %>
        </tbody>
       </table>
    </div>
  </div>
 </div>
</main>